<html lang="en" xmlns:th="http://thymeleaf.org">
<head>
<title>Inicio</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
	rel="stylesheet">
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
	crossorigin="anonymous">
<script
	src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
<link rel="stylesheet" th:href="@{/login.css}" />

</head>
<body>
	<section class="vh-100">
		<div class="container-fluid h-custom">
			<div
				class="row d-flex justify-content-center align-items-center h-100">
				<div class="col-md-9 col-lg-6 col-xl-5">


					<img src="/images/logomain.png" class="img-fluid" alt="logo" />
				</div>
				<div class="col-md-8 col-lg-6 col-xl-4 offset-xl-1 bg-light">
					<form action="#" th:action="@{/registro}"
						th:object="${registroForm}" method="post">
						<input type="hidden" th:field="*{idEmail}" />
						<div class="divider d-flex align-items-center my-4">
							<p class="text-center fw-bold mx-3 mb-0"
								th:text="${idUsuario != null ? 'Editar Usuario' : 'Registro'}">Registro</p>
						</div>

						<!-- Email input -->
						<div class="form-outline mb-2">
							<!--<label class="form-label" for="form3Example3">Correo
								electrónico</label>-->
							<input type="email" th:field="*{email}" class="form-control"
								placeholder="Correo electrónico"
								th:readonly="${session.rol_usuario != null}">
						</div>
						<!-- Password input -->
						<div class="form-outline mb-3"
							th:if="${session.rol_usuario == null}">
							<!--<label class="form-label" for="form3Example4">Contraseña</label>-->
							<input type="password" th:field="*{password}"
								class="form-control " placeholder="Contraseña" />

						</div>
						<div class="row mb-3 ">
							<!--<label class="form-label" for="form3Example3">Correo
								electrónico</label>-->
							<div class=" col-6 ">
								<input type="text" th:field="*{nombre}" class="form-control"
									placeholder="Nombre" />
							</div>
							<div class=" col-6 ">
								<input type="text" th:field="*{apellidos}" class="form-control"
									placeholder="Apellidos" />
							</div>


						</div>
						<div class="row mb-3 ">
							<!--<label class="form-label" for="form3Example3">Correo
								electrónico</label>-->
							<div class=" col-6 ">
								<input type="text" th:field="*{dni}" class="form-control"
									placeholder="DNI/NIE" />
							</div>
							<div class=" col-6 ">
								<input type="text" th:field="*{telefono}" class="form-control"
									placeholder="Teléfono" />
							</div>


						</div>


						<!-- errores -->
						<div class="text-danger " th:if="${#fields.hasErrors('email')}"
							th:errors="*{email}"></div>
						<div class="text-danger " th:if="${#fields.hasErrors('password')}"
							th:errors="*{password}"></div>
						<div class="text-danger " th:if="${#fields.hasErrors('nombre')}"
							th:errors="*{nombre}"></div>
						<div class="text-danger "
							th:if="${#fields.hasErrors('apellidos')}"
							th:errors="*{apellidos}"></div>
						<div class="text-danger " th:if="${#fields.hasErrors('dni')}"
							th:errors="*{dni}"></div>
						<div class="text-danger " th:if="${#fields.hasErrors('telefono')}"
							th:errors="*{telefono}"></div>


						<div class="d-flex justify-content-between d-flex "
							th:if="${session.rol_usuario == null}">
							<!-- Checkbox -->
							<div class="form-check mb-3 mr-auto p-6">
								<input class="form-check-input me-2" type="checkbox" value=""
									id="form2Example3" required /> <label class="form-check-label"
									for="form2Example3">Acepto las <a href="#"
									class="link-danger ">Condiciones de uso</a> y la <a href="#"
									class="link-danger ">Política de privacidad</a> de
									huboburger.hb
								</label>
							</div>
						</div>
						<div class="text-danger p-2 mb-2"
							th:if="${session.containsKey('error')}">
							<span th:text="${session.error}"></span>

						</div>
						<div class="row mb-4" th:if="${session.rol_usuario != null}">
							<label
								class="form-label col-6 d-flex justify-content-center align-items-center"
								for="rol">Rol:</label>
							<div class="col-6">
								<select class="form-select text-muted" id="rol" name="rol"
									required="required" placeholder="rol">
									<option th:value="1" th:selected="${registroForm.rol == 1}"
										th:text="${registroForm.rol == 1 ? 'Admin' : 'Admin'}"></option>
									<option th:value="2" th:selected="${registroForm.rol == 2}"
										th:text="${registroForm.rol == 2 ? 'Usuario' : 'Usuario'}"></option>
									<option th:value="3" th:selected="${registroForm.rol == 3}"
										th:text="${registroForm.rol == 3 ? 'Dependiente' : 'Dependiente'}"></option>
									<option th:value="4" th:selected="${registroForm.rol == 4}"
										th:text="${registroForm.rol == 4 ? 'Delivery' : 'Delivery'}"></option>
								</select>
							</div>
						</div>
						<div class="text-center   pt-2">
							<button type="submit" class="btn hubobutton "
								th:text="${idUsuario != null ? 'GUARDAR' : 'CREAR
								CUENTA'}"></button>

						</div>
						<div class="divider d-flex align-items-center my-4"
							th:if="${session.rol_usuario == null}">
							<p class="text-center fw-bold mx-3 mb-0">¿Ya tiene una
								cuenta?</p>
						</div>
						<div class="text-center   pt-0"
							th:if="${session.rol_usuario == null}">
							<a th:href="@{login}" class="btn greybutton">INICIAR SESIÓN</a>
						</div>

					</form>
					<div class="container d-flex align-items-center my-4"></div>
				</div>
			</div>
		</div>
	</section>
</body>
</html>