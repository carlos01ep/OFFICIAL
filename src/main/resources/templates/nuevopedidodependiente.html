<html lang="en" xmlns:th="http://thymeleaf.org">
<head>
<title>Inicio</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
	rel="stylesheet">
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.7.2/font/bootstrap-icons.min.css"
	integrity="sha512-wVwn1f4X1m0h4Y49m32jKZl2zAF6Bk3qBzK6GgJnR+R6Eg7pUZi6lJgV5kkSdRRn7wJrk5M5h5p4X4CO4aHY4Q=="
	crossorigin="anonymous" />
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
	crossorigin="anonymous">
<script
	src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
<link href="https://icons.getbootstrap.com/">

<link rel="stylesheet" th:href="@{/login.css}" />
<link rel="stylesheet" th:href="@{/home.css}" />
<link rel="stylesheet" th:href="@{/altaproducto.css}" />
<link rel="stylesheet" th:href="@{/nuevopedido.css}" />
<style>
.custom-checkbox {
	display: inline-block;
	width: 50px;
	height: 50px;
	position: relative;
}

.background-image {
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	background-size: cover;
	background-position: center;
	z-index: 1;
}

.custom-checkbox input[type="checkbox"] {
	opacity: 0;
	position: absolute;
	width: 100%;
	height: 100%;
	cursor: pointer;
	z-index: 3;
}

.custom-checkbox::after {
	width: 50px;
	height: 50px;
	content: "✓";
	font-size: 30px;
	position: absolute;
	top: 50%;
	left: 50%;
	transform: translate(-50%, -50%);
	z-index: 2;
	color: white; /* Cambiar el color a verde */
	font-weight: bold; /* Añadir negrita para aumentar el grosor */
	border: 3px solid white;
	/* Cambiar el grosor y el color del borde a verde */
	text-align: center; /* Centrar horizontalmente el contenido */
	line-height: 40px; /* Centrar verticalmente el contenido */
	background-color: rgba(93, 219, 2, 0.6); /* Agregar fondo semitransparente */
}

.custom-checkbox:not(.checked)::after {
	display: none;
}

.custom-checkbox input[type="checkbox"]:checked ~ .custom-checkbox::after
	{
	display: block;
}
</style>
</head>
<body>
	<nav class="navbar navbar-expand-lg navbar-light bg-light">
		<div class="container-fluid">
			<img src="/images/logomain.png" class="img img-main" alt="logo" /> <a
				class="navbar-brand" th:href="@{/homeadmin}"
				th:if="${session.rol_usuario} == 'admin'">Hubo Burger</a> <a
				class="navbar-brand" th:href="@{/home}"
				th:if="${session.rol_usuario} == 'usuario'">Hubo Burger</a> <a
				class="navbar-brand" th:href="@{/homedependiente}"
				th:if="${session.rol_usuario} == 'usuariodependiente'">Hubo
				Burger</a>

			<button class="navbar-toggler" type="button"
				data-bs-toggle="collapse" data-bs-target=".navbar-collapse"
				aria-controls="navbarSupportedContent" aria-expanded="false"
				aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>

			<div class="collapse navbar-collapse p-1">
				<ul class="navbar-nav me-auto mb-2 mb-lg-0">
					<li class="nav-item dropdown"><a
						class="nav-link dropdown-toggle" href="#" id="navbarDropdown"
						role="button" data-bs-toggle="dropdown" aria-expanded="false"
						th:if="${session.rol_usuario} == 'admin'"> Productos </a>
						<ul class="dropdown-menu" aria-labelledby="navbarDropdown">
							<li><a class="dropdown-item" th:href="@{/altaproducto}">Alta</a></li>
							<li><a class="dropdown-item" th:href="@{/listaproducto}">Lista</a></li>
							<li><a class="dropdown-item" th:href="@{/buscarproducto}">Buscar</a></li>
							<li><a class="dropdown-item" th:href="@{/altaproductoxml}">Alta
									con XML</a></li>
						</ul></li>
					<li class="nav-item" th:if="${session.rol_usuario} == 'admin'"><a
						class="nav-link" th:href="@{/listausuario}">Lista de Usuarios</a></li>
					<li class="nav-item" th:if="${session.rol_usuario} == 'admin'"><a
						class="nav-link" th:href="@{/listapedido}">Lista de Pedidos</a></li>
					<li class="nav-item"
						th:if="${session.rol_usuario == 'usuario' || session.rol_usuario == 'usuariodependiente'}"><a
						class="nav-link" th:href="@{/nuevopedido}">Nuevo Pedido</a></li>
					<li class="nav-item"
						th:if="${session.rol_usuario == 'usuario' || session.rol_usuario == 'usuariodependiente'}"><a
						class="nav-link" th:href="@{/listapedido}">Lista de Pedidos</a></li>
				</ul>
				<ul class="navbar-nav justify-content-center align-items-center">
					<li class="nav-item"><a
						class="nav-link active justify-content-center align-items-center user-margen-derecho"
						aria-current="page" href="#" th:text=${session.usuario_name}>User
							Name</a></li>
					<li class="nav-item"><a class="my-0" th:href="@{/logout}"><button
								class="btn burgerbutton ">CERRAR SESIÓN</button></a></li>
				</ul>
			</div>
		</div>
	</nav>
	<main role="main">

		<section class="vh-100 ">
			<div class="jumbotron">
				<div
					class="container my-4 d-flex justify-content-center align-items-center mt-3 pt-3">
					<h1 class="display-6 fw-bold ">NUEVO PEDIDO</h1>
				</div>
				<form action="#" th:action="@{nuevopedidodependiente}"
					th:object="${nuevoPedidoForm}" method="post">
					<div class="container-fluid h-custom ">
						<div class="row d-flex justify-content-center align-items-center">
							<!-- image -->
							<div class="col-md-9 col-lg-9 col-xl-8 bg-light ">

								<div class="divider d-flex align-items-center mt-4">
									<p class="text-center fw-bold mx-3 mb-0  ">SELECCIÓN DE
										PRODUCTOS</p>
								</div>

								<table class="table">
									<thead>
										<tr>
											<th scope="col">Producto Par</th>
											<th scope="col">Cantidad Par</th>
											<th scope="col">Seleccionar Par</th>
											<th scope="col">Producto Impar</th>
											<th scope="col">Cantidad Impar</th>
											<th scope="col">Seleccionar Impar</th>
										</tr>
									</thead>
									<tbody>
										<tr th:each="productoPar, iterStat : ${listaProductoPar}">
											<td><a
												th:href="@{/detalleproducto/{id}(id=${productoPar.id})}"
												th:text="${productoPar.nombre}">Nombre Producto Par</a></td>
											<td><input type="number" min="1"
												th:name="'cantidadPar' + ${productoPar.id}" /></td>
											<td>
												<div class="custom-checkbox">
													<div class="background-image"
														th:style="'background-image: url(/images/' + ${productoPar.image} + ');'">
													</div>
													<input type="checkbox"
														th:name="'seleccionarPar' + ${productoPar.id}" />
												</div>
											</td>
											<td th:if="${iterStat.index < listaProductoImpar.size()}">
												<a
												th:href="@{/detalleproducto/{id}(id=${listaProductoImpar[iterStat.index].id})}"
												th:text="${listaProductoImpar[iterStat.index].nombre}">Nombre
													Producto Impar</a>
											</td>
											<td th:if="${iterStat.index < listaProductoImpar.size()}">
												<input type="number" min="1"
												th:name="'cantidadImpar' + ${listaProductoImpar[iterStat.index].id}" />
											</td>
											<td th:if="${iterStat.index < listaProductoImpar.size()}">
												<div class="custom-checkbox">
													<div class="background-image"
														th:style="'background-image: url(/images/' + ${listaProductoImpar[iterStat.index].image} + ');'"></div>
													<input type="checkbox"
														th:name="'seleccionarImpar' + ${listaProductoImpar[iterStat.index].id}" />
												</div>
											</td>
											<td th:if="${iterStat.index >= listaProductoImpar.size()}">&nbsp;</td>
											<td th:if="${iterStat.index >= listaProductoImpar.size()}">&nbsp;</td>
											<td th:if="${iterStat.index >= listaProductoImpar.size()}">&nbsp;</td>
										</tr>
									</tbody>
								</table>
								<hr>


							</div>

							<div class="col-md-3 col-lg-3 col-xl-3 mx-4 bg-light">


								<div class="divider d-flex align-items-center my-4">
									<p class="text-center fw-bold mx-3 mb-0  ">Calcular Cambio</p>
								</div>

								<hr>
								<div class="text-center   pt-0 my-5">
									<button type="submit" class="btn hubobutton ">FINALIZAR
										PEDIDO</button>
								</div>
								<hr>
							</div>
						</div>
					</div>
				</form>
			</div>
			<footer class="mt-auto">
				<ul>
					<li><a href="#"> Contacto:</a> carlos01ep@gmail.com</li>
					<li><a href="#">Términos y condiciones</a></li>
					<li><a href="#">Política de privacidad</a></li>
				</ul>
				<p>&copy; HUBO BURGER 2023</p>
			</footer>
		</section>
	</main>
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	<script>
  $(document).ready(function() {
    $('.custom-checkbox input[type="checkbox"]').on('change', function() {
      $(this).closest('.custom-checkbox').toggleClass('checked', $(this).is(':checked'));
    });
  });
</script>
</body>
</html>