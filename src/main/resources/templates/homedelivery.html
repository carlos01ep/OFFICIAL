<html lang="en" xmlns:th="http://thymeleaf.org">
<head>
<title>Inicio</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
	rel="stylesheet">
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
	crossorigin="anonymous">
<script
	src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
<link rel="stylesheet" th:href="@{/login.css}" />
<link rel="stylesheet" th:href="@{/home.css}" />
<link rel="stylesheet" th:href="@{/delivery.css}" />

<style>
a {
	text-decoration: none;
}

.table-striped>thead>tr>th {
	background-color: #868686ff; /* grey */
	color: white;
}
</style>
</head>
<body>
	<nav class="navbar navbar-expand-lg navbar-light bg-light">
		<div class="container-fluid">
			<img src="/images/logomain.png" class="img img-main" alt="logo" /> <a
				class="navbar-brand" th:href="@{/homeadmin}"
				th:if="${session.rol_usuario} == 'admin'">Hubo Burger</a> <a
				class="navbar-brand" th:href="@{/home}"
				th:if="${session.rol_usuario} == 'usuario'">Hubo Burger</a> <a
				class="navbar-brand" th:href="@{/homedependiente}"
				th:if="${session.rol_usuario} == 'usuariodependiente'">Hubo
				Burger</a> <a class="navbar-brand" th:href="@{/homedelivery}"
				th:if="${session.rol_usuario} == 'usuariodelivery'">Hubo Burger</a>

			<button class="navbar-toggler" type="button"
				data-bs-toggle="collapse" data-bs-target=".navbar-collapse"
				aria-controls="navbarSupportedContent" aria-expanded="false"
				aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>

			<div class="collapse navbar-collapse p-1">
				<ul class="navbar-nav me-auto mb-2 mb-lg-0">
					<li class="nav-item dropdown"><a
						class="nav-link dropdown-toggle" href="#" id="navbarDropdown"
						role="button" data-bs-toggle="dropdown" aria-expanded="false"
						th:if="${session.rol_usuario} == 'admin'"> Productos </a>
						<ul class="dropdown-menu" aria-labelledby="navbarDropdown">
							<li><a class="dropdown-item" th:href="@{/altaproducto}">Alta</a></li>
							<li><a class="dropdown-item" th:href="@{/listaproducto}">Lista</a></li>
							<li><a class="dropdown-item" th:href="@{/buscarproducto}">Buscar</a></li>
							<li><a class="dropdown-item" th:href="@{/altaproductoxml}">Alta
									con XML</a></li>
						</ul></li>
					<li class="nav-item" th:if="${session.rol_usuario} == 'admin'"><a
						class="nav-link" th:href="@{/listausuario}">Lista de Usuarios</a></li>
					<li class="nav-item" th:if="${session.rol_usuario} == 'admin'"><a
						class="nav-link" th:href="@{/listapedido}">Lista de Pedidos</a></li>
					<li class="nav-item"
						th:if="${session.rol_usuario == 'usuario' || session.rol_usuario == 'usuariodependiente'}"><a
						class="nav-link" th:href="@{/nuevopedidodependiente}">Nuevo
							Pedido</a></li>
					<li class="nav-item"
						th:if="${session.rol_usuario == 'usuario' || session.rol_usuario == 'usuariodependiente' || session.rol_usuario == 'usuariodelivery'}"><a
						class="nav-link" th:href="@{/listapedido}">Lista de Pedidos</a></li>
				</ul>
				<ul class="navbar-nav justify-content-center align-items-center">
					<li class="nav-item"><a
						class="nav-link active justify-content-center align-items-center user-margen-derecho"
						aria-current="page" href="#" th:text=${session.usuario_name}>User
							Name</a></li>
					<li class="nav-item"><a class="my-0" th:href="@{/logout}"><button
								class="btn burgerbutton ">CERRAR SESIÓN</button></a></li>
				</ul>
			</div>
		</div>
	</nav>

	<main role="main">

		<!-- Main jumbotron for a primary marketing message or call to action -->
		<div class="jumbotron">
			<div class="container">

				<h1 class="display-6 fw-bold">Hubo Burger Delivery</h1>
				<p>Nuestro compromiso es brindar a nuestros clientes un servicio
					de entrega eficiente y rápido.</p>
			</div>
		</div>

		<section class="vh-100 ">
			<div class="jumbotron">
				<div
					class="container my-4 d-flex justify-content-center align-items-center">
					<h1 class="display-6 fw-bold">SERVICIO DE ENTREGA</h1>
				</div>

			</div>


			<div class="container-fluid h-custom mb-0">
				<div class="row d-flex justify-content-center align-items-center">
					<!-- image -->

					<div
						class="col-md-6 col-lg-6 col-xl-6 offset-xl-1 bg-light mx-0  align-self-start">



						<div class="table-responsive">
							<table
								class="table w-100 my-0 p-0 pt-3 table-bordered table-hover table-striped "
								style="opacity: 0.8;">
								<thead>
									<tr>
										<td><h4 class="text-center fw-bold">ENTREGAR PEDIDO</h4></td>
									</tr>
								</thead>
								<th:block th:if="${listaConsulta != null}">
									<th:block th:each="pedido : ${listaConsulta}">
										<th:block th:if="${pedido.estado} == 'en camino'">
											<thead>
												<tr>
													<th class="text-center">Pedido en camino</th>
												</tr>
											</thead>
											<tbody>
												<tr>
													<td th:text="'ID: ' + ${pedido.id}"></td>
												</tr>
												<tr>
													<td th:text="'Cliente: ' + ${pedido.usuario.nombre}"></td>

												</tr>
												<tr>
													<td th:text="${'Dirección: ' + pedido.direccion}"></td>
												</tr>
												<tr>
													<td th:text="${'Teléfono:  ' + pedido.usuario.telefono}"></td>
												</tr>

												<tr>
													<td
														th:text="${'Hora prevista de entrega: ' + pedido.horaPrevistaDeLlegada}"></td>

												</tr>
												<tr>

													<td colspan="1" class="text-center"><a
														class="d-flex flex-column"
														th:href="@{/finalizarpedido/{id}(id=${pedido.id})}"
														title="finalizar entrega">
															<button class="btn burgerbutton">FINALIZAR ENTREGA</button>
													</a></td>

												</tr>
												<tr>
													<td>
														<div class="divider d-flex align-items-center my-0"></div>
													</td>
												</tr>
											</tbody>
										</th:block>
									</th:block>
								</th:block>
							</table>
						</div>
					</div>
					<div
						class="col-md-6 col-lg-6 col-xl-6 offset-xl-1 bg-light mx-0  align-self-start">


						<div class="table-responsive">
							<table
								class="table w-100 my-0 p-0 pt-3 table-bordered table-hover table-striped "
								style="opacity: 0.8;">
								<thead>
									<tr>
										<td><h4 class="text-center fw-bold">RECOGER PEDIDO</h4></td>
									</tr>
								</thead>
								<th:block th:if="${listaConsulta != null}">
									<th:block th:each="pedido : ${listaConsulta}">
										<th:block th:if="${pedido.estado} == 'listo'">
											<thead>
												<tr>
													<th class="text-center">Pedido listo</th>
												</tr>
											</thead>
											<tbody>
												<tr>
													<td th:text="'ID: ' + ${pedido.id}"></td>
												</tr>
												<tr>
													<td th:text="'Cliente: ' + ${pedido.usuario.nombre}"></td>

												</tr>
												<tr>
													<td th:text="${'Dirección: ' + pedido.direccion}"></td>
												</tr>
												<tr>
													<td th:text="${'Teléfono:  ' + pedido.usuario.telefono}"></td>
												</tr>

												<tr>
													<td colspan="1">Tiempo Estimado de entrega (min.):</td>

												</tr>
												<tr>

													<td colspan="1" class="text-center">
														<div class="d-flex flex-column">
															<button class="btn hubobutton mb-2" type="button"
																data-bs-toggle="collapse"
																data-bs-target="#collapseExample" aria-expanded="false"
																aria-controls="collapseExample"
																title="seleccionar minutos">SELECCIONAR MINUTOS</button>
															<div id="collapseExample" class="collapse">
																<a
																	th:href="@{/recogerpedido/{id}/{minutos}(id=${pedido.id}, minutos=10)}"
																	title="10 min.">
																	<button class="btn burgerbutton">10</button>
																</a> <a
																	th:href="@{/recogerpedido/{id}/{minutos}(id=${pedido.id}, minutos=20)}"
																	title="20 min.">
																	<button class="btn burgerbutton">20</button>
																</a> <a
																	th:href="@{/recogerpedido/{id}/{minutos}(id=${pedido.id}, minutos=30)}"
																	title="30 min.">
																	<button class="btn burgerbutton">30</button>
																</a> <a
																	th:href="@{/recogerpedido/{id}/{minutos}(id=${pedido.id}, minutos=40)}"
																	title="40 min.">
																	<button class="btn burgerbutton">40</button>
																</a> <a
																	th:href="@{/recogerpedido/{id}/{minutos}(id=${pedido.id}, minutos=50)}"
																	title="50 min.">
																	<button class="btn burgerbutton">50</button>
																</a>
															</div>
														</div>

													</td>

												</tr>
												<tr>
													<td>
														<div class="divider d-flex align-items-center my-0"></div>
													</td>
												</tr>
											</tbody>
										</th:block>
									</th:block>
								</th:block>
							</table>
						</div>
					</div>


				</div>

			</div>

			<footer class="mt-auto">
				<ul>
					<li><a href="#"> Contacto:</a> carlos01ep@gmail.com</li>
					<li><a href="#">Términos y condiciones</a></li>
					<li><a href="#">Política de privacidad</a></li>
				</ul>
				<p>&copy; HUBO BURGER 2023</p>
			</footer>
		</section>

		<div class="jumbotron"></div>

		<hr>
		<div class="container-fluid"></div>


		<div class="container">
			<div class="row"></div>
		</div>

		<hr>
		<!-- /container -->
	</main>


</body>
</html>